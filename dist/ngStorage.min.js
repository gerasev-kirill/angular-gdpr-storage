/*! ngstorage 0.3.7 | Copyright (c) 2018 Gias Kay Lee | MIT License */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){"use strict";var b,c,d,e,f,g;return c=function(c){return["$rootScope","$window","$log","$timeout",function(g,h,i,j){var k,l,m,n,o;return l=null,m=null,n=function(a){var b,c,d;d=void 0;try{d=h[a]}catch(e){b=e,d=!1}if(d&&"localStorage"===a){c="__"+Math.round(1e7*Math.random());try{d.setItem(c,c),d.removeItem(c)}catch(e){b=e,d=!1}}return d},o=n(c),o||(i.warn("This browser does not support Web Storage!"),o={setItem:a.noop,getItem:a.noop,removeItem:a.noop,key:a.noop}),k={$default:function(b){var c,d;for(c in b)d=b[c],a.isDefined(k[c])||(k[c]=d);return k.$sync(),k},$reset:function(a){var c;for(c in k)"$"!==c[0]&&(delete k[c],o.removeItem(b+c));return k.$default(a)},$sync:function(){var a,c,e;for(c=o.length,a=void 0,e=void 0;c--;)e=o.key(c),a=f(e),e&&b+a===e&&(k[a]=d(o.getItem(e)))},$apply:function(){var c,d,f;if(d=void 0,l=null,!a.equals(k,m)){d=a.copy(m);for(c in k)f=k[c],a.isDefined(f)&&"$"!==c[0]&&(o.setItem(b+c,e(f)),delete d[c]);for(c in d)o.removeItem(b+c);m=a.copy(k)}}},k.$sync(),m=a.copy(k),g.$watch(function(){l||(l=j(k.$apply,100,!1))}),h.addEventListener("storage",function(c){var e,h,i;h=c.key,i=c.newValue,e=void 0,h&&(e=f(h),h===b+e&&(i?k[e]=d(i):delete k[e],m=a.copy(k),g.$$phase||g.$apply()))}),h.addEventListener("beforeunload",function(a){k.$apply()},!1),k}]},b="ngStorage-",g=b.length,d=a.fromJson,e=a.toJson,f=function(a){return a.slice(g)},a.module("ngStorage",[]).factory("$localStorage",c("localStorage")).factory("$sessionStorage",c("sessionStorage"))});